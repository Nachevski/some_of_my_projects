@use "../abstracts/variables" as var;
@use "../abstracts/mixins" as mix;
@use "../abstracts/animations" as anime;

main {
  display: flex;
  justify-content: center;
  @include mix.tablet-styles {
    flex-direction: column;
  }
  .player {
    flex-basis: 15%;
    height: fit-content;
    display: flex;
    flex-direction: column;
    margin-right: var.$gutter-base * 2.5;
    text-align: center;
    background-color: transparentize(var.$text-color-base, 0.5);
    padding: calc((var.$gutter-base/3) * 2) calc((var.$gutter-base/3) * 2) calc(var.$gutter-base/3) calc((var.$gutter-base/3) * 2);
    animation: glow 10s linear infinite;
    @extend %border;
    @include mix.laptop-l-styles {
      margin-right: var.$gutter-base;
    }
    @include mix.tablet-styles {
      margin-right: 0;
      margin-top: calc((var.$gutter-base/3) * 2);
      order: 1;
      flex-direction: row;
      flex-wrap: wrap;
      .game-statistics {
        flex: 1 1 100%;
      }
      .player-info {
        display: flex;
        flex-direction: row;
        .moves {
          flex: 1 1 30%;
        }
        .pairs {
          flex: 1 1 30%;
        }
        @include mix.tablet-styles {
          flex-basis: 100%;
        }
      }
    }
    @include mix.mobile-l-styles {
      margin-bottom: var.$gutter-base;
    }
    p {
      font-size: var.$font-size-l * 1.5;
      @include mix.laptop-l-styles {
        font-size: var.$font-size-l;
      }
    }
    span {
      margin-bottom: calc((var.$gutter-base/3) * 2);
      @include mix.laptop-l-styles {
        margin-bottom: calc(var.$gutter-base/3);
      }
    }
    hr {
      margin: 0 0 calc((var.$gutter-base/3) * 2) 0;
      @include mix.laptop-m-styles {
        margin: 0 0 calc(var.$gutter-base/3) 0;
      }
      @include mix.tablet-styles {
        margin: 0 calc(var.$gutter-base/6) 0 calc(var.$gutter-base/6);
      }
    }
    .games {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex: 1 1 40%;
      font-size: var.$font-size-l * 1.5;
      div {
        span {
          margin-bottom: 0;
        }
      }
      @include mix.tablet-styles {
        align-items: flex-start;
      }
    }
  }
}
.game-cards-container {
  flex-basis: 60%;
  height: fit-content;
  position: relative;
  background-color: transparentize(var.$text-color-base, 0.5);
  padding: calc((var.$gutter-base/3) * 2) calc((var.$gutter-base/3) * 2) calc(var.$gutter-base/3) calc((var.$gutter-base/3) * 2);
  animation: glow 10s linear infinite;
  @extend %border;
  @include mix.laptop-m-styles {
    flex-basis: 70%;
  }
  .match {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparentize(var.$text-color-base, 0.35);
    p {
      font-size: var.$font-size-xl * 7;
      font-weight: var.$font-weight-bold;
      color: var.$text-color-primary;
      @include mix.laptop-l-styles {
        font-size: var.$font-size-l * 5.5;
      }
      @include mix.laptop-m-styles {
        font-size: var.$font-size-l * 4.5;
      }
    }
    &.matching-message {
      p {
        text-shadow: -10px 15px 20px rgb(0, 89, 255);
      }
    }
    &.game-over {
      p {
        text-shadow: -10px 15px 20px rgb(16, 197, 0);
      }
    }
    &.cheat {
      p {
        text-shadow: -10px 15px 20px rgb(255, 0, 0);
      }
    }
  }
  .intro {
    background-color: #000 !important;
    padding: var.$gutter-base;
    text-align: center;
    p {
      font-size: var.$font-size-xl * 3;
      & + p {
        font-size: var.$font-size-xl * 2;
        margin-bottom: var.$gutter-base;
        @include mix.laptop-m-styles {
          font-size: var.$font-size-l * 1.5;
        }
      }
      @include mix.laptop-m-styles {
        font-size: var.$font-size-l * 2;
      }
    }
    span {
      font-size: var.$font-size-xl * 1.5;
      @include mix.laptop-m-styles {
        font-size: var.$font-size-l * 1.2;
      }
    }
    .btn {
      margin: var.$gutter-base * 2 0 var.$gutter-base;
    }
  }
  .game-cards {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-right: -(calc(var.$gutter-base/3));

    .card-img {
      flex: 0 0 16.66%;
      margin-bottom: calc(var.$gutter-base/3);
      position: relative;
      &.selected {
        .card.front-side {
          transform: rotateY(180deg);
        }
        .card.back-side {
          transform: rotateY(360deg);
        }
      }
      .card-inner {
        .card {
          margin-right: calc(var.$gutter-base/3);
          backface-visibility: hidden;
          transition: all 0.7s cubic-bezier(0.1, 0.2, 0.65, 1);
          transform: rotateY(0deg);
          cursor: pointer;
        }
        .back-side {
          position: absolute;
          top: 0;
          left: 0;
          transform: rotateY(180deg);
        }
      }
      @include mix.mobile-l-styles {
        flex-basis: 25%;
      }
    }
    img {
      border-radius: var.$gutter-base;
      border: 2px solid #fff;
      @include mix.tablet-styles {
        border-radius: calc(var.$gutter-base/3);
      }
    }
  }
}
